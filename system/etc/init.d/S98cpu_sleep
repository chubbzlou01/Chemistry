#!/system/bin/sh
#
# ==============================================================
# ==============================================================
# beginning of the screenstate-scaling loop
# ==============================================================
# ==============================================================


(while [ 1 ];
do


# ==============================================================
# ==============================================================
# ==============================================================
# settings for while the screen is on / usage
# ==============================================================
# ==============================================================
# ==============================================================

    AWAKE=`cat /sys/power/wait_for_fb_wake`;
    if [ $AWAKE = "awake" ]; then
	sleep 2 && echo 1 > /sys/devices/system/cpu/cpu1/online;
        AWAKE=;
    fi;


# ==============================================================
# ==============================================================
# ==============================================================
# settings for while the screen is off
# ==============================================================
# ==============================================================
# ==============================================================

    SLEEPING=`cat /sys/power/wait_for_fb_sleep`;
    if [ $SLEEPING = "sleeping" ]; then

        sleep 2 && echo 0 > /sys/devices/system/cpu/cpu1/online;
        SLEEPING=;
    fi;    
done &);






